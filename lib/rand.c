/* rand.c - srand, rand */

#include <xinu.h>

static uint32 randx = 1;

/*------------------------------------------------------------------------
 *  srand  -  Sets the random seed.
 *------------------------------------------------------------------------
 */
void srand(uint32 seed)
{
    randx = seed;
}

/*------------------------------------------------------------------------
 *  rand  -  Generates a random long.
 *------------------------------------------------------------------------
 */
int32 rand(void)
{
    randx = randx * 1103515245 + 12345;
    return (uint32)(randx/65536) % 32768;
}
